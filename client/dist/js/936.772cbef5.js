"use strict";(self["webpackChunkkpifinkupot"]=self["webpackChunkkpifinkupot"]||[]).push([[936],{6936:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var n=s(6768),i=s(4232);const o=(0,n.Lk)("br",null,null,-1),r=(0,n.Lk)("br",null,null,-1);function l(t,e,s,l,u,a){const h=(0,n.g2)("csvArray");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(h,{import_file:"History"}),(0,n.Lk)("text",null," Historia "+(0,i.v_)(t.$store.state.hist_count),1),o,(0,n.bF)(h,{import_file:"Hasifa"}),(0,n.Lk)("text",null," Hasifa "+(0,i.v_)(t.$store.state.count),1),r,(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>a.move&&a.move(...t))},"move")],64)}s(4114);const u=(0,n.Lk)("br",null,null,-1),a=(0,n.Lk)("br",null,null,-1);function h(t,e,s,o,r,l){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("input",{type:"file",onChange:e[0]||(e[0]=(...t)=>l.handleFileChange&&l.handleFileChange(...t))},null,32),u,(0,n.Lk)("text",null," rows "+(0,i.v_)(s.import_file),1),a],64)}s(6573),s(8100),s(7936),s(7467),s(4732),s(9577);var f={data(){return{hasifot:[],history:[],documents:[]}},props:{import_file:{type:String,required:!0}},methods:{handleFileChange(t){const e=t.target.files[0];e&&this.readFile(e)},readFile(t){const e=new FileReader;e.onload=()=>{const t=e.result,s=new TextDecoder("windows-1255"),n=s.decode(new Uint8Array(t)),i=this.parseCSV(n);"Hasifa"===this.import_file?this.hasifot=i:"History"===this.import_file&&(this.history=i)},e.readAsArrayBuffer(t)},parseCSV(t){const e=t.split("\n"),s=[],n=[];if("Hasifa"===this.import_file){for(let t=1;t<e.length;t++){let i=e[t].split(",");s.push(i),n.push({PROD_ID:i[0],SUG:i[1],ID:i[2],SUG_MUZAR:i[3],SHM_MUZAR:i[4],MISPAR_HEVRA:i[5],SHM_HEVRA:i[6],YITRAT_NEHASIM:i[7],MENAYOT:i[8],AGAH_CONC:i[9],AGAH_MMSL:i[10],HALVAAOT_LS:i[11],KRANOT_LS:i[12],AHER:i[13],MEZUMAN_PIKDONOT:i[14],MATAH:i[15],HUL:i[16]})}console.log(n),this.$store.state.count=s.length,this.$store.state.hasiDB=s}else if("History"===this.import_file){for(let t=1;t<e.length;t++){let i=e[t].split(",");s.push(i),n.push({PROD_ID:i[0],DATE:i[6],YIELD:i[7],STD_12:i[8],STD_36:i[9],STD_60:i[10]})}console.log(n),this.$store.state.hist_count=s.length,this.$store.state.historyDB=s}return s}}},p=s(1241);const c=(0,p.A)(f,[["render",h]]);var A=c,_={components:{csvArray:A},mounted(){},methods:{move(){console.log(this.$store),this.$router.push("/")}}};const d=(0,p.A)(_,[["render",l]]);var H=d}}]);
//# sourceMappingURL=936.772cbef5.js.map